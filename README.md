# 3D粒子系统 - 手势交互

一个基于Three.js和MediaPipe的实时交互3D粒子系统，支持通过摄像头手势控制粒子群的缩放和扩散。

## 功能特性

### 🎮 手势控制
- **双手张合控制缩放**：通过检测双手拇指和食指的距离来控制粒子群的缩放
- **实时响应**：粒子系统会实时响应手势变化
- **多手检测**：支持同时检测两只手的手势

### 🎨 模型选择
提供5种不同的粒子模型：
- **圣诞树**：树形结构的粒子排列
- **星星**：星形分布的粒子
- **烟花**：爆炸式的粒子效果
- **爱心**：心形图案的粒子
- **地球**：球形分布的粒子

### 🎨 颜色定制
- **颜色选择器**：可以自由调整粒子的颜色
- **实时更新**：颜色变化会立即应用到所有粒子

### 🖥️ 界面控制
- **全屏模式**：支持全屏显示
- **摄像头切换**：可以切换前后摄像头
- **状态显示**：实时显示当前状态和手势信息
- **响应式设计**：适配不同屏幕尺寸

## 技术栈

- **Three.js**：3D图形渲染
- **MediaPipe Hands**：手势识别
- **HTML5 Canvas**：渲染目标
- **CSS3**：现代UI设计

## 使用方法

### 1. 启动应用
直接在浏览器中打开 `index.html` 文件即可。

### 2. 授权摄像头访问
首次使用时需要授权浏览器访问摄像头权限。

### 3. 手势控制
- 将双手放在摄像头前
- 张开/闭合拇指和食指来控制粒子群的缩放
- 双手距离越远，粒子群越大；距离越近，粒子群越小

### 4. 模型选择
在右侧UI面板中选择不同的模型类型：
- 圣诞树
- 星星
- 烟花
- 爱心
- 地球

### 5. 颜色调整
使用颜色选择器自定义粒子颜色。

### 6. 全屏模式
点击"全屏模式"按钮进入全屏显示。

## 项目结构

```
interactive_3D_demo/
├── index.html          # 主页面
├── styles.css          # 样式文件
├── script.js           # JavaScript逻辑
└── README.md           # 项目说明
```

## 浏览器兼容性

- Chrome 60+
- Firefox 55+
- Safari 11+
- Edge 79+

## 注意事项

1. 需要良好的光线条件以获得最佳手势识别效果
2. 确保摄像头清晰可见双手
3. 首次使用需要允许摄像头访问权限
4. 建议使用现代浏览器以获得最佳性能

## 功能说明

### 手势识别原理
- 使用MediaPipe Hands模型检测手部关键点
- 计算拇指和食指指尖的距离
- 将距离映射为缩放因子（0.5-2倍）
- 实时应用到粒子系统的缩放变换

### 粒子系统特性
- 每个模型使用不同的粒子分布算法
- 粒子具有透明效果和深度感知
- 支持旋转动画和颜色变化
- 高性能渲染，支持2000个粒子

## 开发说明

### 自定义模型
可以通过修改 `script.js` 中的 `createParticleSystem` 函数来添加自定义模型：

```javascript
case 'custom':
    // 自定义粒子分布逻辑
    positions[i3] = ...;
    positions[i3 + 1] = ...;
    positions[i3 + 2] = ...;
    break;
```

### 性能优化
- 使用BufferGeometry提高性能
- 启用透明和混合效果
- 限制粒子数量为2000个以保持流畅

## 许可证

MIT License - 可自由使用和修改。

## 贡献

欢迎提交Issue和Pull Request来改进这个项目！